{% extends "progress/base_progress.html" %}

{% block progress_content %}
<div class="max-w-2xl mx-auto">
    <h2 class="text-2xl font-bold text-gray-800 border-b-2 border-indigo-600 pb-3 mb-6">
        {{ title }}
    </h2>

    <div class="content-card">
        <form method="POST" class="space-y-6">
            {% csrf_token %}

            <!-- 교재 선택 -->
            <div>
                <label for="id_book" class="form-label">교재 (필수)</label>
                {{ form.book }}
            </div>

            <!-- 문제 유형 선택 -->
            <div>
                <label for="id_problem_type" class="form-label">문제 유형 (필수)</label>
                {{ form.problem_type }}
                <p class="text-sm text-gray-500 mt-1">
                    먼저 "문제 유형 관리"에서 문제 유형을 등록해주세요.
                </p>
            </div>

            <!-- 페이지, 순서 -->
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label for="id_page" class="form-label">페이지</label>
                    {{ form.page }}
                </div>
                <div>
                    <label for="id_order" class="form-label">순서</label>
                    {{ form.order }}
                </div>
            </div>

            <!-- 비고 -->
            <div>
                <label for="id_memo" class="form-label">비고</label>
                {{ form.memo }}
            </div>

            <!-- 버튼 -->
            <div class="flex gap-3 justify-center pt-4">
                <button type="submit"
                        class="bg-indigo-600 hover:bg-indigo-700 text-white px-10 py-3 rounded-lg font-medium text-base transition-colors">
                    저장하기
                </button>
                <a href="{% url 'progress:book_problem_list' %}"
                   class="bg-gray-600 hover:bg-gray-700 text-white px-8 py-3 rounded-lg font-medium text-base transition-colors">
                    취소
                </a>
            </div>
        </form>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('input, select, textarea').forEach(el => {
            if (!el.classList.contains('form-checkbox') && !el.classList.contains('form-radio')) {
                el.classList.add('form-input');
            }
        });
    });
</script>
{% endblock %}
