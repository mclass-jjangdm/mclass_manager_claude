{% extends 'base.html' %}

<!-- Custom CSS -->
{% load static %}
<link rel="stylesheet" href="{% static 'css/custom.css' %}"> 

{% block extra_css %}
<style>
    #dropdown-menu {
        display: none;
    }
    #student-register-dropdown:hover #dropdown-menu {
        display: block;
    }
</style>
{% endblock %}

{% block content %}
<div class="space-y-6">
    <!-- 서브 네비게이션 -->
    <div class="bg-white shadow-sm overflow-visible">
        <div class="container overflow-visible">
            <nav class="flex space-x-4 py-3 overflow-visible" aria-label="Students">
                <a href="{% url 'students:student_list' %}"
                   class="nav-link {% if request.resolver_match.url_name == 'student_list' %}active{% endif %}">
                    학생 목록
                </a>
                <!-- 학생 등록 드롭다운 -->
                <div class="relative" id="student-register-dropdown">
                    <button type="button"
                            id="dropdown-btn"
                            class="nav-link {% if request.resolver_match.url_name == 'student_create' or request.resolver_match.url_name == 'student_import' %}active{% endif %} inline-flex items-center cursor-pointer">
                        학생 등록
                        <svg class="ml-1 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="dropdown-menu" class="absolute left-0 top-full pt-1 w-44 bg-white rounded-md shadow-lg border border-gray-200 z-50">
                        <a href="{% url 'students:student_create' %}"
                           class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 {% if request.resolver_match.url_name == 'student_create' %}bg-indigo-50 font-medium text-indigo-700{% endif %}">
                            직접 등록
                        </a>
                        <a href="{% url 'students:student_import' %}"
                           class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 {% if request.resolver_match.url_name == 'student_import' %}bg-indigo-50 font-medium text-indigo-700{% endif %}">
                            데이터 가져오기
                        </a>
                    </div>
                </div>
                <a href="{% url 'students:bulk_sms_send' %}"
                   class="nav-link {% if request.resolver_match.url_name == 'bulk_sms_send' %}active{% endif %}">
                    문자 발송
                </a>
                <a href="{% url 'students:student_export' %}"
                   class="nav-link {% if request.resolver_match.url_name == 'student_export' %}active{% endif %}">
                    데이터 내보내기
                </a>
                <a href="{% url 'students:grade_promotion_confirm' %}"
                   class="nav-link {% if request.resolver_match.url_name == 'grade_promotion_confirm' %}active{% endif %}">
                    학년 일괄 증가
                </a>
            </nav>

        </div>
    </div>

    <!-- 컨텐츠 영역 -->
    <div class="container">
        {% block student_content %}{% endblock %}
    </div>
</div>
{% endblock %}
